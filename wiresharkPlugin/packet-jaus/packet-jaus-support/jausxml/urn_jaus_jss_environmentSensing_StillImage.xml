<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<service_def name="StillImage" id="urn:jaus:jss:environmentSensing:StillImage" version="2.0" xmlns="urn:jaus:jsidl:1.1" xmlns:ns2="urn:jaus:jsidl:plus">
    <description xml:space="preserve">This service provides access to the capabilities and 
		configuration of a camera, allowing the controlling component to set the camera 
		to a particular operational profile and to obtain images from the camera.  While 
		this service reports each image individually, the Events service can be used 
		to automatically report images at a specified rate thereby simulating video 
		(such as is typically done to create an MJPEG video stream).</description>
    <assumptions xml:space="preserve">Messages may be delayed, lost or reordered.</assumptions>
    <references>
        <inherits_from name="visualSensor" id="urn:jaus:jss:environmentSensing:VisualSensor" version="2.0"/>
    </references>
    <message_set>
        <input_set>
            <message_def name="SetStillImageSensorConfiguration" message_id="0807" is_command="true">
                <description xml:space="preserve">This message is used to set the configuration of the still image sensor associated with the service. Configuration is based off of each sensor’s capabilities as described in the Report Still Image Sensor Capabilities message. This message shall cause the receiving service to reply to the sender with a Confirm Sensor Configuration message. If the configuration specified is invalid for a given sensor ID, the confirm message shall contain an Still Image Error Record for the given Sensor ID however other, valid, configurations specified shall be set (if they exist).</description>
                <header name="AppHeader">
                    <record name="HeaderRec" optional="false">
                        <fixed_field name="MessageID" optional="false" interpretation="A two byte field to hold the message ID of a message" field_type="unsigned short integer" field_units="one"/>
                    </record>
                </header>
                <body name="Body">
                    <sequence name="StillImageSensorConfigurationSequence" optional="false">
                        <record name="RequestIdRec" optional="false">
                            <fixed_field name="RequestID" optional="false" field_type="unsigned byte" field_units="one"/>
                        </record>
                        <list name="StillImageSensorList" optional="false">
                            <count_field min_count="0" max_count="65535" field_type_unsigned="unsigned short integer"/>
                            <record name="StillImageSensorConfigurationRec" optional="false">
                                <presence_vector field_type_unsigned="unsigned byte"/>
                                <fixed_field name="SensorID" optional="false" interpretation="ID of the sensor. Zero (0) is not a valid ID in this message." field_type="unsigned short integer" field_units="one">
                                    <value_set offset_to_lower_limit="false">
                                        <value_range lower_limit="1" lower_limit_type="inclusive" upper_limit="65535" upper_limit_type="inclusive"/>
                                    </value_set>
                                </fixed_field>
                                <fixed_field name="FrameSize" optional="true" field_type="unsigned byte" field_units="one">
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="128x96 (sqcif)"/>
                                        <value_enum enum_index="1" enum_const="176x144 (qcif)"/>
                                        <value_enum enum_index="2" enum_const="352x288 (cif)"/>
                                        <value_enum enum_index="3" enum_const="704x576 (4cif)"/>
                                        <value_enum enum_index="4" enum_const="1408x1152 (16cif)"/>
                                        <value_enum enum_index="5" enum_const="160x120 (qqvga)"/>
                                        <value_enum enum_index="6" enum_const="320x240 (qvga)"/>
                                        <value_enum enum_index="7" enum_const="640x480 (vga)"/>
                                        <value_enum enum_index="8" enum_const="800x600 (svga)"/>
                                        <value_enum enum_index="9" enum_const="1024x768 (xga)"/>
                                        <value_enum enum_index="10" enum_const="1600x1200 (uxga)"/>
                                        <value_enum enum_index="11" enum_const="2048x1536 (qxga)"/>
                                        <value_enum enum_index="12" enum_const="1280x1024 (sxga)"/>
                                        <value_enum enum_index="13" enum_const="2560x2048 (qsxga)"/>
                                        <value_enum enum_index="14" enum_const="5120x4096 (hsxga)"/>
                                        <value_enum enum_index="15" enum_const="852x480 (wvga)"/>
                                        <value_enum enum_index="16" enum_const="1366x768 (wxga)"/>
                                        <value_enum enum_index="17" enum_const="1600x1024 (wsxga)"/>
                                        <value_enum enum_index="18" enum_const="1920x1200 (wuxga)"/>
                                        <value_enum enum_index="19" enum_const="2560x1600 (woxga)"/>
                                        <value_enum enum_index="20" enum_const="3200x2048 (wqsxga)"/>
                                        <value_enum enum_index="21" enum_const="3840x2400 (wquxga)"/>
                                        <value_enum enum_index="22" enum_const="6400x4096 (whsxga)"/>
                                        <value_enum enum_index="23" enum_const="7680x4800 (whuxga)"/>
                                        <value_enum enum_index="24" enum_const="320x200 (cga)"/>
                                        <value_enum enum_index="25" enum_const="640x350 (ega)"/>
                                        <value_enum enum_index="26" enum_const="852x480 (hd480)"/>
                                        <value_enum enum_index="27" enum_const="1280x720 (hd720)"/>
                                        <value_enum enum_index="28" enum_const="1920x1080 (hd1080)"/>
                                    </value_set>
                                </fixed_field>
                                <fixed_field name="StillImageFormat" optional="true" field_type="unsigned byte" field_units="one">
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="JPEG"/>
                                        <value_enum enum_index="1" enum_const="GIF"/>
                                        <value_enum enum_index="2" enum_const="PNG"/>
                                        <value_enum enum_index="3" enum_const="BMP"/>
                                        <value_enum enum_index="4" enum_const="TIFF"/>
                                        <value_enum enum_index="5" enum_const="PPM"/>
                                        <value_enum enum_index="6" enum_const="PGM"/>
                                        <value_enum enum_index="7" enum_const="PNM"/>
                                        <value_enum enum_index="8" enum_const="NEF"/>
                                        <value_enum enum_index="9" enum_const="CR2"/>
                                        <value_enum enum_index="10" enum_const="DNG"/>
                                    </value_set>
                                </fixed_field>
                            </record>
                        </list>
                    </sequence>
                </body>
                <footer name="Footer"/>
            </message_def>
            <message_def name="QueryStillImageDataExt" message_id="281C" is_command="false">
                <description xml:space="preserve">This message shall cause the 
			receiving component to reply to the requestor with a Report 
			Still Image Data Ext message. By setting the associated 
			bits in the QueryPresenceVector, the client can request 
			that the response contain the image data directly in the 
			ImageFrame field, or the image data can be stored locally 
			by the sensor component and a file name or other identifier 
			for the data can be returned in the StillImageURI field, 
			or both. A logical AND shall be performed on the requested 
			presence vector and that representing the available fields 
			from the responder. The resulting message shall contain 
			the fields indicated by the result of this logical AND operation.</description>
                <header name="AppHeader">
                    <record name="HeaderRec" optional="false">
                        <fixed_field name="MessageID" optional="false" interpretation="A two byte field to hold the message ID of a message" field_type="unsigned short integer" field_units="one"/>
                    </record>
                </header>
                <body name="Body">
                    <list name="QueryStillImageDataList" optional="false">
                        <count_field min_count="0" max_count="65535" field_type_unsigned="unsigned short integer"/>
                        <record name="QueryStillImageDataRec" optional="false">
                            <fixed_field name="SensorID" optional="false" interpretation="ID of the sensor being queried. Zero (0) is used to query all sensors associated with this service." field_type="unsigned short integer" field_units="one">
                                <value_set offset_to_lower_limit="false">
                                    <value_enum enum_index="0" enum_const="AllSensors"/>
                                    <value_range lower_limit="1" lower_limit_type="inclusive" upper_limit="65535" upper_limit_type="inclusive" interpretation="Specific ID to be queried"/>
                                </value_set>
                            </fixed_field>
                            <fixed_field name="ReportCoordinateSystem" optional="false" field_type="unsigned byte" field_units="one">
                                <value_set offset_to_lower_limit="false">
                                    <value_enum enum_index="0" enum_const="Native Coordinate System"/>
                                    <value_enum enum_index="1" enum_const="Vehicle Coordinate System"/>
                                </value_set>
                            </fixed_field>
                            <fixed_field name="QueryPresenceVector" optional="false" field_type="unsigned byte" field_units="one"/>
                        </record>
                    </list>
                </body>
                <footer name="Footer"/>
            </message_def>
            <message_def name="QueryStillImageSensorConfiguration" message_id="2813" is_command="false">
                <description xml:space="preserve">This message shall cause the 
			receiving service to reply to the requestor with a Report 
			Still Image Sensor Configuration message. A logical AND shall
			be performed on the requested presence vector and that 
			representing the available fields from the responder.  The 
			resulting message shall contain the fields indicated by the 
			result of this logical AND operation.</description>
                <header name="AppHeader">
                    <record name="HeaderRec" optional="false">
                        <fixed_field name="MessageID" optional="false" interpretation="A two byte field to hold the message ID of a message" field_type="unsigned short integer" field_units="one"/>
                    </record>
                </header>
                <body name="Body">
                    <list name="QueryStillImageSensorConfigurationList" optional="false">
                        <count_field min_count="0" max_count="65535" field_type_unsigned="unsigned short integer"/>
                        <record name="QueryStillImageSensorConfigurationRec" optional="false">
                            <fixed_field name="SensorID" optional="false" interpretation="ID of the sensor being queried. Zero (0) is used to query all sensors associated with this service." field_type="unsigned short integer" field_units="one">
                                <value_set offset_to_lower_limit="false">
                                    <value_enum enum_index="0" enum_const="AllSensors"/>
                                    <value_range lower_limit="1" lower_limit_type="inclusive" upper_limit="65535" upper_limit_type="inclusive" interpretation="Specific ID to be queried"/>
                                </value_set>
                            </fixed_field>
                            <fixed_field name="QueryPresenceVector" optional="false" field_type="unsigned byte" field_units="one"/>
                        </record>
                    </list>
                </body>
                <footer name="Footer"/>
            </message_def>
            <message_def name="QueryStillImageSensorCapabilities" message_id="2812" is_command="false">
                <description xml:space="preserve">This message shall cause the 
			receiving service to reply to the requestor with a Report 
			Still Image Sensor Capabilities message. A logical AND shall 
			be performed on the requested presence vector and that 
			representing the available fields from the responder.  The 
			resulting message shall contain the fields indicated by the 
			result of this logical AND operation.</description>
                <header name="AppHeader">
                    <record name="HeaderRec" optional="false">
                        <fixed_field name="MessageID" optional="false" interpretation="A two byte field to hold the message ID of a message" field_type="unsigned short integer" field_units="one"/>
                    </record>
                </header>
                <body name="Body">
                    <list name="QueryStillImageSensorCapabilitiesList" optional="false">
                        <count_field min_count="0" max_count="65535" field_type_unsigned="unsigned short integer"/>
                        <record name="QueryStillImageSensorCapabilitiesRec" optional="false">
                            <fixed_field name="SensorID" optional="false" interpretation="ID of the sensor being queried. Zero (0) is used to query all sensors associated with this service." field_type="unsigned short integer" field_units="one">
                                <value_set offset_to_lower_limit="false">
                                    <value_enum enum_index="0" enum_const="AllSensors"/>
                                    <value_range lower_limit="1" lower_limit_type="inclusive" upper_limit="65535" upper_limit_type="inclusive" interpretation="Specific ID to be queried"/>
                                </value_set>
                            </fixed_field>
                            <fixed_field name="QueryPresenceVector" optional="false" field_type="unsigned byte" field_units="one"/>
                        </record>
                    </list>
                </body>
                <footer name="Footer"/>
            </message_def>
        </input_set>
        <output_set>
            <message_def name="ReportStillImageDataExt" message_id="481C" is_command="false">
                <description xml:space="preserve">This message is used to report the most recent still image that was taken by the sensor. The timestamp defines the time at which the collected data was valid. The image data is defined with respect to either the sensor coordinate system or a specified coordinate system.</description>
                <header name="AppHeader">
                    <record name="HeaderRec" optional="false">
                        <fixed_field name="MessageID" optional="false" interpretation="A two byte field to hold the message ID of a message" field_type="unsigned short integer" field_units="one"/>
                    </record>
                </header>
                <body name="Body">
                    <list name="StillImageDataList" optional="false">
                        <count_field min_count="0" max_count="65535" field_type_unsigned="unsigned short integer"/>
                        <record name="StillImageDataRec" optional="false">
                            <presence_vector field_type_unsigned="unsigned byte"/>
                            <fixed_field name="SensorID" optional="false" interpretation="ID of the sensor. Zero (0) is not a valid ID in this message." field_type="unsigned short integer" field_units="one">
                                <value_set offset_to_lower_limit="false">
                                    <value_range lower_limit="1" lower_limit_type="inclusive" upper_limit="65535" upper_limit_type="inclusive"/>
                                </value_set>
                            </fixed_field>
                            <fixed_field name="ReportCoordinateSystem" optional="false" field_type="unsigned byte" field_units="one">
                                <value_set offset_to_lower_limit="false">
                                    <value_enum enum_index="0" enum_const="Native Coordinate System"/>
                                    <value_enum enum_index="1" enum_const="Vehicle Coordinate System"/>
                                </value_set>
                            </fixed_field>
                            <bit_field name="TimeStamp" optional="true" field_type_unsigned="unsigned integer">
                                <sub_field name="Milliseconds">
                                    <bit_range from_index="0" to_index="9"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_range lower_limit="0" lower_limit_type="inclusive" upper_limit="999" upper_limit_type="inclusive"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="Seconds">
                                    <bit_range from_index="10" to_index="15"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_range lower_limit="0" lower_limit_type="inclusive" upper_limit="59" upper_limit_type="inclusive"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="Minutes">
                                    <bit_range from_index="16" to_index="21"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_range lower_limit="0" lower_limit_type="inclusive" upper_limit="59" upper_limit_type="inclusive"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="Hour">
                                    <bit_range from_index="22" to_index="26"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_range lower_limit="0" lower_limit_type="inclusive" upper_limit="23" upper_limit_type="inclusive"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="Day">
                                    <bit_range from_index="27" to_index="31"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_range lower_limit="1" lower_limit_type="inclusive" upper_limit="31" upper_limit_type="inclusive"/>
                                    </value_set>
                                </sub_field>
                            </bit_field>
                            <variable_format_field name="ImageFrame" optional="true">
                                <format_field>
                                    <format_enum index="0" field_format="JPEG"/>
                                    <format_enum index="1" field_format="GIF"/>
                                    <format_enum index="2" field_format="PNG"/>
                                    <format_enum index="3" field_format="BMP"/>
                                    <format_enum index="4" field_format="TIFF"/>
                                    <format_enum index="5" field_format="PPM"/>
                                    <format_enum index="6" field_format="PGM"/>
                                    <format_enum index="7" field_format="PNM"/>
                                    <format_enum index="8" field_format="NEF"/>
                                    <format_enum index="9" field_format="CR2"/>
                                    <format_enum index="10" field_format="DNG"/>
                                </format_field>
                                <count_field min_count="0" max_count="2147483647" field_type_unsigned="unsigned integer"/>
                            </variable_format_field>
                            <variable_length_string name="StillImageURI" optional="true" interpretation="Filename or other URI indicating the location of the still image data captured by the associated request. If the saving process fails for any reason (insufficient storage space, I/O error), the URI shall be an empty (zero length) string.">
                                <count_field min_count="0" max_count="255" field_type_unsigned="unsigned byte"/>
                            </variable_length_string>
                        </record>
                    </list>
                </body>
                <footer name="Footer"/>
            </message_def>
            <message_def name="ReportStillImageSensorConfiguration" message_id="4813" is_command="false">
                <description xml:space="preserve">This message is sent in response to a Query Still Image Sensor Configuration message. It is populated with the current sensor configuration (per sensor ID) as defined in the table below.</description>
                <header name="AppHeader">
                    <record name="HeaderRec" optional="false">
                        <fixed_field name="MessageID" optional="false" interpretation="A two byte field to hold the message ID of a message" field_type="unsigned short integer" field_units="one"/>
                    </record>
                </header>
                <body name="Body">
                    <list name="StillImageSensorConfigurationList" optional="false">
                        <count_field min_count="0" max_count="65535" field_type_unsigned="unsigned short integer"/>
                        <record name="StillImageSensorConfigurationRec" optional="false">
                            <presence_vector field_type_unsigned="unsigned byte"/>
                            <fixed_field name="SensorID" optional="false" interpretation="ID of the sensor. Zero (0) is not a valid ID in this message." field_type="unsigned short integer" field_units="one">
                                <value_set offset_to_lower_limit="false">
                                    <value_range lower_limit="1" lower_limit_type="inclusive" upper_limit="65535" upper_limit_type="inclusive"/>
                                </value_set>
                            </fixed_field>
                            <fixed_field name="FrameSize" optional="true" field_type="unsigned byte" field_units="one">
                                <value_set offset_to_lower_limit="false">
                                    <value_enum enum_index="0" enum_const="128x96 (sqcif)"/>
                                    <value_enum enum_index="1" enum_const="176x144 (qcif)"/>
                                    <value_enum enum_index="2" enum_const="352x288 (cif)"/>
                                    <value_enum enum_index="3" enum_const="704x576 (4cif)"/>
                                    <value_enum enum_index="4" enum_const="1408x1152 (16cif)"/>
                                    <value_enum enum_index="5" enum_const="160x120 (qqvga)"/>
                                    <value_enum enum_index="6" enum_const="320x240 (qvga)"/>
                                    <value_enum enum_index="7" enum_const="640x480 (vga)"/>
                                    <value_enum enum_index="8" enum_const="800x600 (svga)"/>
                                    <value_enum enum_index="9" enum_const="1024x768 (xga)"/>
                                    <value_enum enum_index="10" enum_const="1600x1200 (uxga)"/>
                                    <value_enum enum_index="11" enum_const="2048x1536 (qxga)"/>
                                    <value_enum enum_index="12" enum_const="1280x1024 (sxga)"/>
                                    <value_enum enum_index="13" enum_const="2560x2048 (qsxga)"/>
                                    <value_enum enum_index="14" enum_const="5120x4096 (hsxga)"/>
                                    <value_enum enum_index="15" enum_const="852x480 (wvga)"/>
                                    <value_enum enum_index="16" enum_const="1366x768 (wxga)"/>
                                    <value_enum enum_index="17" enum_const="1600x1024 (wsxga)"/>
                                    <value_enum enum_index="18" enum_const="1920x1200 (wuxga)"/>
                                    <value_enum enum_index="19" enum_const="2560x1600 (woxga)"/>
                                    <value_enum enum_index="20" enum_const="3200x2048 (wqsxga)"/>
                                    <value_enum enum_index="21" enum_const="3840x2400 (wquxga)"/>
                                    <value_enum enum_index="22" enum_const="6400x4096 (whsxga)"/>
                                    <value_enum enum_index="23" enum_const="7680x4800 (whuxga)"/>
                                    <value_enum enum_index="24" enum_const="320x200 (cga)"/>
                                    <value_enum enum_index="25" enum_const="640x350 (ega)"/>
                                    <value_enum enum_index="26" enum_const="852x480 (hd480)"/>
                                    <value_enum enum_index="27" enum_const="1280x720 (hd720)"/>
                                    <value_enum enum_index="28" enum_const="1920x1080 (hd1080)"/>
                                </value_set>
                            </fixed_field>
                            <fixed_field name="StillImageFormat" optional="true" field_type="unsigned byte" field_units="one">
                                <value_set offset_to_lower_limit="false">
                                    <value_enum enum_index="0" enum_const="JPEG"/>
                                    <value_enum enum_index="1" enum_const="GIF"/>
                                    <value_enum enum_index="2" enum_const="PNG"/>
                                    <value_enum enum_index="3" enum_const="BMP"/>
                                    <value_enum enum_index="4" enum_const="TIFF"/>
                                    <value_enum enum_index="5" enum_const="PPM"/>
                                    <value_enum enum_index="6" enum_const="PGM"/>
                                    <value_enum enum_index="7" enum_const="PNM"/>
                                    <value_enum enum_index="8" enum_const="NEF"/>
                                    <value_enum enum_index="9" enum_const="CR2"/>
                                    <value_enum enum_index="10" enum_const="DNG"/>
                                </value_set>
                            </fixed_field>
                        </record>
                    </list>
                </body>
                <footer name="Footer"/>
            </message_def>
            <message_def name="ReportStillImageSensorCapabilities" message_id="4812" is_command="false">
                <description xml:space="preserve">This message is used to report the sensors’ capabilities upon receipt of a Query Still Image Sensor Capabilities message. Capabilities include sensor properties, values and ranges which can be modified by the Set Still Image Sensor Configuration message.</description>
                <header name="AppHeader">
                    <record name="HeaderRec" optional="false">
                        <fixed_field name="MessageID" optional="false" interpretation="A two byte field to hold the message ID of a message" field_type="unsigned short integer" field_units="one"/>
                    </record>
                </header>
                <body name="Body">
                    <list name="StillImageSensorList" optional="false">
                        <count_field min_count="0" max_count="65535" field_type_unsigned="unsigned short integer"/>
                        <record name="StillImageSensorCapabilitiesRec" optional="false">
                            <presence_vector field_type_unsigned="unsigned byte"/>
                            <fixed_field name="SensorID" optional="false" interpretation="ID of the sensor. Zero (0) is not a valid ID in this message." field_type="unsigned short integer" field_units="one">
                                <value_set offset_to_lower_limit="false">
                                    <value_range lower_limit="1" lower_limit_type="inclusive" upper_limit="65535" upper_limit_type="inclusive"/>
                                </value_set>
                            </fixed_field>
                            <bit_field name="SupportedFrameSizes" optional="true" field_type_unsigned="unsigned integer">
                                <sub_field name="sqcif_128x96">
                                    <bit_range from_index="0" to_index="0"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="qcif_176x144">
                                    <bit_range from_index="1" to_index="1"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="cif_352x288">
                                    <bit_range from_index="2" to_index="2"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="cif4_704x576">
                                    <bit_range from_index="3" to_index="3"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="cif16_1408x1152">
                                    <bit_range from_index="4" to_index="4"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="qqvga_160x120">
                                    <bit_range from_index="5" to_index="5"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="qvga_320x240">
                                    <bit_range from_index="6" to_index="6"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="vga_640x480">
                                    <bit_range from_index="7" to_index="7"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="svga_800x600">
                                    <bit_range from_index="8" to_index="8"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="xga_1024x768">
                                    <bit_range from_index="9" to_index="9"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="uxga_1600x1200">
                                    <bit_range from_index="10" to_index="10"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="qxga_2048x1536">
                                    <bit_range from_index="11" to_index="11"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="sxga_1280x1024">
                                    <bit_range from_index="12" to_index="12"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="qsxga_2560x2048">
                                    <bit_range from_index="13" to_index="13"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="hsxga_5120x4096">
                                    <bit_range from_index="14" to_index="14"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="wvga_852x480">
                                    <bit_range from_index="15" to_index="15"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="wxga_1366x768">
                                    <bit_range from_index="16" to_index="16"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="wsxga_1600x1024">
                                    <bit_range from_index="17" to_index="17"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="wuxga_1920x1200">
                                    <bit_range from_index="18" to_index="18"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="woxga_2560x1600">
                                    <bit_range from_index="19" to_index="19"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="wqsxga_3200x2048">
                                    <bit_range from_index="20" to_index="20"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="wquxga_3840x2400">
                                    <bit_range from_index="21" to_index="21"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="whsxga_6400x4096">
                                    <bit_range from_index="22" to_index="22"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="whuxga_7680x4800">
                                    <bit_range from_index="23" to_index="23"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="cga_320x200">
                                    <bit_range from_index="24" to_index="24"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="ega_640x350">
                                    <bit_range from_index="25" to_index="25"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="hd480_852x480">
                                    <bit_range from_index="26" to_index="26"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="hd720_1280x720">
                                    <bit_range from_index="27" to_index="27"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="hd1080_1920x1080">
                                    <bit_range from_index="28" to_index="28"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                            </bit_field>
                            <bit_field name="SupportedImageFormats" optional="true" field_type_unsigned="unsigned short integer">
                                <sub_field name="JPEG">
                                    <bit_range from_index="0" to_index="0"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="GIF">
                                    <bit_range from_index="1" to_index="1"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="PNG">
                                    <bit_range from_index="2" to_index="2"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="BMP">
                                    <bit_range from_index="3" to_index="3"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="TIFF">
                                    <bit_range from_index="4" to_index="4"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="PPM">
                                    <bit_range from_index="5" to_index="5"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="PGM">
                                    <bit_range from_index="6" to_index="6"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="PNM">
                                    <bit_range from_index="7" to_index="7"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="NEF_Nikon_RAW">
                                    <bit_range from_index="8" to_index="8"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="CR2_Canon_RAW">
                                    <bit_range from_index="9" to_index="9"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                                <sub_field name="DNG_Adobe_RAW">
                                    <bit_range from_index="10" to_index="10"/>
                                    <value_set offset_to_lower_limit="false">
                                        <value_enum enum_index="0" enum_const="Unsupported"/>
                                        <value_enum enum_index="1" enum_const="Supported"/>
                                    </value_set>
                                </sub_field>
                            </bit_field>
                        </record>
                    </list>
                </body>
                <footer name="Footer"/>
            </message_def>
        </output_set>
    </message_set>
    <internal_events_set/>
    <protocol_behavior is_stateless="false">
        <start state_machine_name="visualSensor.accessControl.events.transport.ReceiveFSM" state_name="Receiving.Ready.NotControlled"/>
        <start state_machine_name="visualSensor.accessControl.events.transport.SendFSM" state_name="Sending"/>
        <state_machine name="visualSensor.accessControl.events.transport.ReceiveFSM">
            <state name="Receiving" initial_state="Ready">
                <state name="Ready" initial_state="NotControlled">
                    <state name="NotControlled" initial_state="Available">
                        <state name="Available"/>
                        <state name="NotAvailable"/>
                        <default_state>
                            <transition name="accessControl.events.transport.Receive">
                                <parameter type="QueryStillImageSensorCapabilities" value="msg" interpretation="enveloped QueryStillImageSensorCapabilities message"/>
                                <parameter type="Receive.Body.ReceiveRec" value="transportData" interpretation="transport data"/>
                                <internal/>
                                <action name="sendReportStillImageSensorCapabilities" interpretation="Send a ReportStillImageSensorCapabilities message">
                                    <argument value="msg"/>
                                    <argument value="transportData"/>
                                </action>
                            </transition>
                            <transition name="accessControl.events.transport.Receive">
                                <parameter type="QueryStillImageSensorConfiguration" value="msg" interpretation="enveloped QueryStillImageSensorConfiguration message"/>
                                <parameter type="Receive.Body.ReceiveRec" value="transportData" interpretation="transport data"/>
                                <internal/>
                                <action name="sendReportStillImageSensorConfiguration" interpretation="Send a ReportStillImageSensorConfiguration message">
                                    <argument value="msg"/>
                                    <argument value="transportData"/>
                                </action>
                            </transition>
                            <transition name="accessControl.events.transport.Receive">
                                <parameter type="QueryStillImageDataExt" value="msg" interpretation="enveloped QueryStillImageDataExt message"/>
                                <parameter type="Receive.Body.ReceiveRec" value="transportData" interpretation="transport data"/>
                                <guard condition="isCoordinateTransformSupported( msg )" interpretation="True if the service supports coordinate           system transformations for data reports."/>
                                <internal/>
                                <action name="captureStillImage" interpretation="Trigger a still image capture from the specified sensor(s)">
                                    <argument value="msg"/>
                                </action>
                                <action name="sendReportStillImageDataExtInRequestedCoordinateSystem" interpretation="Send a ReportStillImageDataExt message using           the requested coordinate system">
                                    <argument value="msg"/>
                                    <argument value="transportData"/>
                                </action>
                            </transition>
                            <transition name="accessControl.events.transport.Receive">
                                <parameter type="QueryStillImageDataExt" value="msg" interpretation="enveloped QueryStillImageDataExt message"/>
                                <parameter type="Receive.Body.ReceiveRec" value="transportData" interpretation="transport data"/>
                                <guard condition="! isCoordinateTransformSupported( msg )" interpretation="True if the service does not support           coordinate system transformations for data reports."/>
                                <internal/>
                                <action name="captureStillImage" interpretation="Trigger a still image capture from the specified sensor(s)">
                                    <argument value="msg"/>
                                </action>
                                <action name="sendReportStillImageDataExtInNativeCoordinateSystem" interpretation="Send a ReportStillImageDataExt message in           native coordinate system">
                                    <argument value="msg"/>
                                    <argument value="transportData"/>
                                </action>
                            </transition>
                        </default_state>
                    </state>
                    <state name="Controlled" initial_state="Available">
                        <state name="Available"/>
                        <state name="NotAvailable"/>
                        <default_state>
                            <transition name="accessControl.events.transport.Receive">
                                <parameter type="SetStillImageSensorConfiguration" value="msg" interpretation="enveloped SetStillImageSensorConfiguration message"/>
                                <parameter type="Receive.Body.ReceiveRec" value="transportData" interpretation="transport data"/>
                                <guard condition="accessControl.isControllingClient( transportData )" interpretation="True if the message that triggered the           transition is received from the client that is in control           of this service."/>
                                <internal/>
                                <action name="sendConfirmSensorConfiguration" interpretation="Send sendConfirmSensorConfiguration message">
                                    <argument value="msg"/>
                                    <argument value="transportData"/>
                                </action>
                                <action name="updateStillImageSensorConfiguration" interpretation="Update the sensor user controllable           configuration parameters according to the ones specified.">
                                    <argument value="msg"/>
                                </action>
                            </transition>
                            <transition name="accessControl.events.transport.Receive">
                                <parameter type="QueryStillImageSensorCapabilities" value="msg" interpretation="enveloped QueryStillImageSensorCapabilities message"/>
                                <parameter type="Receive.Body.ReceiveRec" value="transportData" interpretation="transport data"/>
                                <internal/>
                                <action name="sendReportStillImageSensorCapabilities" interpretation="Send a ReportStillImageSensorCapabilities message">
                                    <argument value="msg"/>
                                    <argument value="transportData"/>
                                </action>
                            </transition>
                            <transition name="accessControl.events.transport.Receive">
                                <parameter type="QueryStillImageSensorConfiguration" value="msg" interpretation="enveloped QueryStillImageSensorConfiguration message"/>
                                <parameter type="Receive.Body.ReceiveRec" value="transportData" interpretation="transport data"/>
                                <internal/>
                                <action name="sendReportStillImageSensorConfiguration" interpretation="Send a ReportStillImageSensorConfiguration message">
                                    <argument value="msg"/>
                                    <argument value="transportData"/>
                                </action>
                            </transition>
                            <transition name="accessControl.events.transport.Receive">
                                <parameter type="QueryStillImageDataExt" value="msg" interpretation="enveloped QueryStillImageDataExt message"/>
                                <parameter type="Receive.Body.ReceiveRec" value="transportData" interpretation="transport data"/>
                                <guard condition="isCoordinateTransformSupported( msg )" interpretation="True if the service supports coordinate           system transformations for data reports."/>
                                <internal/>
                                <action name="captureStillImage" interpretation="Trigger a still image capture from the specified sensor(s)">
                                    <argument value="msg"/>
                                </action>
                                <action name="sendReportStillImageDataExtInRequestedCoordinateSystem" interpretation="Send a ReportStillImageDataExt message using           the requested coordinate system">
                                    <argument value="msg"/>
                                    <argument value="transportData"/>
                                </action>
                            </transition>
                            <transition name="accessControl.events.transport.Receive">
                                <parameter type="QueryStillImageDataExt" value="msg" interpretation="enveloped QueryStillImageDataExt message"/>
                                <parameter type="Receive.Body.ReceiveRec" value="transportData" interpretation="transport data"/>
                                <guard condition="! isCoordinateTransformSupported( msg )" interpretation="True if the service does not support           coordinate system transformations for data reports."/>
                                <internal/>
                                <action name="captureStillImage" interpretation="Trigger a still image capture from the specified sensor(s)">
                                    <argument value="msg"/>
                                </action>
                                <action name="sendReportStillImageDataExtInNativeCoordinateSystem" interpretation="Send a ReportStillImageDataExt message           in native coordinate system">
                                    <argument value="msg"/>
                                    <argument value="transportData"/>
                                </action>
                            </transition>
                        </default_state>
                    </state>
                    <default_state/>
                </state>
            </state>
        </state_machine>
        <state_machine name="visualSensor.accessControl.events.transport.SendFSM">
            <state name="Sending"/>
        </state_machine>
    </protocol_behavior>
</service_def>
